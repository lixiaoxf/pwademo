!function(e){function t(t){for(var r,a,s=t[0],c=t[1],u=t[2],f=0,p=[];f<s.length;f++)a=s[f],i[a]&&p.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={4:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([45,0]),n()}({2:function(e,t,n){"use strict";function r(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].trim();if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function i(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}t.a=function(e,t){"serviceWorker"in navigator&&(navigator.serviceWorker.register(e,{scope:t}),navigator.serviceWorker.ready.then(function(e){console.log("1111111"),function(e){if("PushManager"in window)e.pushManager.getSubscription().then(function(t){const n={userVisibleOnly:!0,applicationServerKey:i("BBTV_sGMbDL47vda7QEleoJiiEV0iBGGHwXPeZFMgFLlr8OTFlF-l-7abUpy5bgQK70_SMVoITkNXPvm4q38pjM")};return e.pushManager.subscribe(n).then(function(e){let t=e.toJSON();fetch("/pwapush/save",{method:"POST",mode:"cors",credentials:"include",headers:{"x-csrf-token":r("csrfToken"),"content-type":"application/json"},body:JSON.stringify(t)}).then(e=>{console.log(e)})})})}(e)}),Notification.requestPermission().then(e=>{"denied"===Notification.permission&&console.log("Permission for Notifications was denied")}))}},3:function(e,t){!function(e,t){var n,r=e.document,i=r.documentElement,o=r.querySelector('meta[name="viewport"]'),a=r.querySelector('meta[name="flexible"]'),s=0,c=0,u=t.flexible||(t.flexible={});if(o)(f=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/))&&(c=parseFloat(f[1]),s=parseInt(1/c));else if(a){var l=a.getAttribute("content");if(l){var f=l.match(/initial\-dpr=([\d\.]+)/),p=l.match(/maximum\-dpr=([\d\.]+)/);f&&(s=parseFloat(f[1]),c=parseFloat((1/s).toFixed(2))),p&&(s=parseFloat(p[1]),c=parseFloat((1/s).toFixed(2)))}}if(!s&&!c){var d=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),m=e.devicePixelRatio;c=1/(s=d?m>=3&&(!s||s>=3)?3:m>=2&&(!s||s>=2)?2:1:1)}if(i.setAttribute("data-dpr",s),!o)if((o=r.createElement("meta")).setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+c+", maximum-scale="+c+", minimum-scale="+c+", user-scalable=no"),i.firstElementChild)i.firstElementChild.appendChild(o);else{var h=r.createElement("div");h.appendChild(o),r.write(h.innerHTML)}function v(){var t=i.getBoundingClientRect().width/10;i.style.fontSize=t+"px",u.rem=e.rem=t}e.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(v,300)},!1),e.addEventListener("orientationchange",function(){clearTimeout(n),n=setTimeout(v,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(n),n=setTimeout(v,300))},!1),"complete"===r.readyState?r.body.style.fontSize=12*s+"px":r.addEventListener("DOMContentLoaded",function(){r.body.style.fontSize=12*s+"px"},!1),v(),u.dpr=e.dpr=s,u.refreshRem=v,u.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},u.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))},4:function(e,t,n){"use strict";n(76),n(78),n(80)},45:function(e,t,n){"use strict";n.r(t);n(46),n(74),n(3);var r=n(2);n(4);Object(r.a)("/sw-ssr.js","/ssr")},46:function(e,t){},74:function(e,t){},76:function(e,t){},78:function(e,t){},80:function(e,t){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL2pzL2xvYWRzdy5qcyIsIndlYnBhY2s6Ly8vLi9jb21tb24vanMvZmxleGlibGUvcmVtLmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudC9sYXlvdXQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3NyL2luZGV4L2luZGV4LmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiNCIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiZ2V0Q29va2llIiwiY25hbWUiLCJjYSIsImRvY3VtZW50IiwiY29va2llIiwic3BsaXQiLCJ0cmltIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsInVybEJhc2U2NFRvVWludDhBcnJheSIsImJhc2U2NFN0cmluZyIsImJhc2U2NCIsInJlcGVhdCIsInJlcGxhY2UiLCJyYXdEYXRhIiwiYXRvYiIsIm91dHB1dEFycmF5IiwiVWludDhBcnJheSIsImNoYXJDb2RlQXQiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwic3ciLCJzY29wZSIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInJlYWR5IiwidGhlbiIsInJlZ2lzdHJhdGlvbiIsImNvbnNvbGUiLCJsb2ciLCJwdXNoTWFuYWdlciIsImdldFN1YnNjcmlwdGlvbiIsInN1YnNjcmlwdGlvbiIsInN1YnNjcmliZU9wdGlvbnMiLCJ1c2VyVmlzaWJsZU9ubHkiLCJhcHBsaWNhdGlvblNlcnZlcktleSIsInN1YnNjcmliZSIsInN1YiIsInRvSlNPTiIsImZldGNoIiwibWV0aG9kIiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwieC1jc3JmLXRva2VuIiwiY29udGVudC10eXBlIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZXMiLCJwdXNoUmVnaXN0ZXIiLCJOb3RpZmljYXRpb24iLCJyZXF1ZXN0UGVybWlzc2lvbiIsImdyYW50IiwicGVybWlzc2lvbiIsIndpbiIsImxpYiIsInRpbWVyIiwiZG9jIiwiZG9jRWxlbSIsImRvY3VtZW50RWxlbWVudCIsInZwTWV0YSIsInF1ZXJ5U2VsZWN0b3IiLCJmbGV4TWV0YSIsImRwciIsInNjYWxlIiwiZmxleGlibGUiLCJpbml0aWFsIiwiZ2V0QXR0cmlidXRlIiwibWF0Y2giLCJwYXJzZUZsb2F0IiwicGFyc2VJbnQiLCJmbGV4TWV0YUNvbnRlbnQiLCJtYXhpbXVtIiwidG9GaXhlZCIsInUiLCJhcHBWZXJzaW9uIiwiX2RwciIsImRldmljZVBpeGVsUmF0aW8iLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVFbGVtZW50IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJhcHBlbmRDaGlsZCIsImRpdiIsIndyaXRlIiwiaW5uZXJIVE1MIiwic2V0Rm9udFNpemUiLCJiYXNlU2l6ZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIndpZHRoIiwic3R5bGUiLCJmb250U2l6ZSIsInJlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiZSIsInBlcnNpc3RlZCIsInJlYWR5U3RhdGUiLCJyZWZyZXNoUmVtIiwicmVtMnB4IiwidGhpcyIsInB4MnJlbSIsIl9jb21tb25fanNfbG9hZHN3X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX18iLCJsb2Fkc3ciXSwibWFwcGluZ3MiOiJhQUNBLFNBQUFBLEVBQUFDLEdBUUEsSUFQQSxJQU1BQyxFQUFBQyxFQU5BQyxFQUFBSCxFQUFBLEdBQ0FJLEVBQUFKLEVBQUEsR0FDQUssRUFBQUwsRUFBQSxHQUlBTSxFQUFBLEVBQUFDLEVBQUEsR0FDUUQsRUFBQUgsRUFBQUssT0FBb0JGLElBQzVCSixFQUFBQyxFQUFBRyxHQUNBRyxFQUFBUCxJQUNBSyxFQUFBRyxLQUFBRCxFQUFBUCxHQUFBLElBRUFPLEVBQUFQLEdBQUEsRUFFQSxJQUFBRCxLQUFBRyxFQUNBTyxPQUFBQyxVQUFBQyxlQUFBQyxLQUFBVixFQUFBSCxLQUNBYyxFQUFBZCxHQUFBRyxFQUFBSCxJQUtBLElBRkFlLEtBQUFoQixHQUVBTyxFQUFBQyxRQUNBRCxFQUFBVSxPQUFBVixHQU9BLE9BSEFXLEVBQUFSLEtBQUFTLE1BQUFELEVBQUFiLEdBQUEsSUFHQWUsSUFFQSxTQUFBQSxJQUVBLElBREEsSUFBQUMsRUFDQWYsRUFBQSxFQUFpQkEsRUFBQVksRUFBQVYsT0FBNEJGLElBQUEsQ0FHN0MsSUFGQSxJQUFBZ0IsRUFBQUosRUFBQVosR0FDQWlCLEdBQUEsRUFDQUMsRUFBQSxFQUFrQkEsRUFBQUYsRUFBQWQsT0FBMkJnQixJQUFBLENBQzdDLElBQUFDLEVBQUFILEVBQUFFLEdBQ0EsSUFBQWYsRUFBQWdCLEtBQUFGLEdBQUEsR0FFQUEsSUFD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ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuXG4gXHRcdC8vIGFkZCBcIm1vcmVNb2R1bGVzXCIgdG8gdGhlIG1vZHVsZXMgb2JqZWN0LFxuIFx0XHQvLyB0aGVuIGZsYWcgYWxsIFwiY2h1bmtJZHNcIiBhcyBsb2FkZWQgYW5kIGZpcmUgY2FsbGJhY2tcbiBcdFx0dmFyIG1vZHVsZUlkLCBjaHVua0lkLCBpID0gMCwgcmVzb2x2ZXMgPSBbXTtcbiBcdFx0Zm9yKDtpIDwgY2h1bmtJZHMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHRjaHVua0lkID0gY2h1bmtJZHNbaV07XG4gXHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdKSB7XG4gXHRcdFx0XHRyZXNvbHZlcy5wdXNoKGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSk7XG4gXHRcdFx0fVxuIFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IDA7XG4gXHRcdH1cbiBcdFx0Zm9yKG1vZHVsZUlkIGluIG1vcmVNb2R1bGVzKSB7XG4gXHRcdFx0aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vcmVNb2R1bGVzLCBtb2R1bGVJZCkpIHtcbiBcdFx0XHRcdG1vZHVsZXNbbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRpZihwYXJlbnRKc29ucEZ1bmN0aW9uKSBwYXJlbnRKc29ucEZ1bmN0aW9uKGRhdGEpO1xuXG4gXHRcdHdoaWxlKHJlc29sdmVzLmxlbmd0aCkge1xuIFx0XHRcdHJlc29sdmVzLnNoaWZ0KCkoKTtcbiBcdFx0fVxuXG4gXHRcdC8vIGFkZCBlbnRyeSBtb2R1bGVzIGZyb20gbG9hZGVkIGNodW5rIHRvIGRlZmVycmVkIGxpc3RcbiBcdFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2guYXBwbHkoZGVmZXJyZWRNb2R1bGVzLCBleGVjdXRlTW9kdWxlcyB8fCBbXSk7XG5cbiBcdFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiBhbGwgY2h1bmtzIHJlYWR5XG4gXHRcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIFx0fTtcbiBcdGZ1bmN0aW9uIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCkge1xuIFx0XHR2YXIgcmVzdWx0O1xuIFx0XHRmb3IodmFyIGkgPSAwOyBpIDwgZGVmZXJyZWRNb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0dmFyIGRlZmVycmVkTW9kdWxlID0gZGVmZXJyZWRNb2R1bGVzW2ldO1xuIFx0XHRcdHZhciBmdWxmaWxsZWQgPSB0cnVlO1xuIFx0XHRcdGZvcih2YXIgaiA9IDE7IGogPCBkZWZlcnJlZE1vZHVsZS5sZW5ndGg7IGorKykge1xuIFx0XHRcdFx0dmFyIGRlcElkID0gZGVmZXJyZWRNb2R1bGVbal07XG4gXHRcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbZGVwSWRdICE9PSAwKSBmdWxmaWxsZWQgPSBmYWxzZTtcbiBcdFx0XHR9XG4gXHRcdFx0aWYoZnVsZmlsbGVkKSB7XG4gXHRcdFx0XHRkZWZlcnJlZE1vZHVsZXMuc3BsaWNlKGktLSwgMSk7XG4gXHRcdFx0XHRyZXN1bHQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IGRlZmVycmVkTW9kdWxlWzBdKTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0cmV0dXJuIHJlc3VsdDtcbiBcdH1cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDQ6IDBcbiBcdH07XG5cbiBcdHZhciBkZWZlcnJlZE1vZHVsZXMgPSBbXTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIGFkZCBlbnRyeSBtb2R1bGUgdG8gZGVmZXJyZWQgbGlzdFxuIFx0ZGVmZXJyZWRNb2R1bGVzLnB1c2goWzQ1LDBdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiZnVuY3Rpb24gZ2V0Q29va2llKGNuYW1lKXtcclxuICB2YXIgbmFtZSA9IGNuYW1lICsgXCI9XCI7XHJcbiAgdmFyIGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XHJcbiAgZm9yKHZhciBpPTA7IGk8Y2EubGVuZ3RoOyBpKyspIFxyXG4gIHtcclxuICAgIHZhciBjID0gY2FbaV0udHJpbSgpO1xyXG4gICAgaWYgKGMuaW5kZXhPZihuYW1lKT09MCkgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLGMubGVuZ3RoKTtcclxuICB9XHJcbiAgcmV0dXJuIFwiXCI7XHJcbn1cclxuZnVuY3Rpb24gdXJsQmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NFN0cmluZykge1xyXG4gICAgdmFyIHBhZGRpbmcgPSAnPScucmVwZWF0KCg0IC0gYmFzZTY0U3RyaW5nLmxlbmd0aCAlIDQpICUgNCk7XHJcbiAgICB2YXIgYmFzZTY0ID0gKGJhc2U2NFN0cmluZyArIHBhZGRpbmcpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcLS9nLCAnKycpXHJcbiAgICAgICAgLnJlcGxhY2UoL18vZywgJy8nKTtcclxuXHJcbiAgICB2YXIgcmF3RGF0YSA9IHdpbmRvdy5hdG9iKGJhc2U2NCk7XHJcbiAgICB2YXIgb3V0cHV0QXJyYXkgPSBuZXcgVWludDhBcnJheShyYXdEYXRhLmxlbmd0aCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYXdEYXRhLmxlbmd0aDsgKytpKSAge1xyXG4gICAgICAgIG91dHB1dEFycmF5W2ldID0gcmF3RGF0YS5jaGFyQ29kZUF0KGkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBvdXRwdXRBcnJheTtcclxufVxyXG5mdW5jdGlvbiBub3RpZmlSZWdpc3Rlcigpe1xyXG4gICByZXR1cm4gIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpLnRoZW4oZ3JhbnQgPT4ge1xyXG4gICAgICAgIGlmIChOb3RpZmljYXRpb24ucGVybWlzc2lvbiA9PT0gJ2RlbmllZCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1Blcm1pc3Npb24gZm9yIE5vdGlmaWNhdGlvbnMgd2FzIGRlbmllZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn1cclxuZnVuY3Rpb24gcHVzaFJlZ2lzdGVyKHJlZ2lzdHJhdGlvbil7XHJcbiAgICBpZiAoJ1B1c2hNYW5hZ2VyJyBpbiB3aW5kb3cpIHtcclxuICAgICAgICByZXR1cm4gcmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpLnRoZW4oZnVuY3Rpb24oc3Vic2NyaXB0aW9uKXtcclxuICAgICAgICAgICAgLy8gaWYgKHN1YnNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICBjb25zdCBzdWJzY3JpYmVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IHVybEJhc2U2NFRvVWludDhBcnJheShcclxuICAgICAgICAgICAgICAgICAgJ0JCVFZfc0dNYkRMNDd2ZGE3UUVsZW9KaWlFVjBpQkdHSHdYUGVaRk1nRkxscjhPVEZsRi1sLTdhYlVweTViZ1FLNzBfU01Wb0lUa05YUHZtNHEzOHBqTSdcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoc3Vic2NyaWJlT3B0aW9ucykudGhlbihmdW5jdGlvbihzdWJzY3JpcHRpb24pe1xyXG4gICAgICAgICAgICAgICAgbGV0IHN1YiA9IHN1YnNjcmlwdGlvbi50b0pTT04oKVxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZldGNoKCcvcHdhcHVzaC9zYXZlJyx7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogJ2NvcnMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiBcImluY2x1ZGVcIixcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd4LWNzcmYtdG9rZW4nOiBnZXRDb29raWUoJ2NzcmZUb2tlbicpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBib2R5OkpTT04uc3RyaW5naWZ5KHN1YilcclxuICAgICAgICAgICAgICAgIH0pLnRoZW4ocmVzPT57XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKVxyXG4gICAgICAgICAgICAgICAgfSkgIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pXHJcbiAgICAgICBcclxuICAgICAgfVxyXG4gICAgcmV0dXJuIDsgIFxyXG59XHJcbmZ1bmN0aW9uIHN5bmMoc3dSZWdpc3RyYXRpb24pe1xyXG4gICAgc3dSZWdpc3RyYXRpb24uc3luYy5yZWdpc3RlcigncWllU3luYycpO1xyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKHN3LHNjb3BlKXtcclxuICAgIGlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoc3csIHtzY29wZX0pXHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHkudGhlbihmdW5jdGlvbihyZWdpc3RyYXRpb24pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJzExMTExMTEnKVxyXG4gICAgICAgICAgICBwdXNoUmVnaXN0ZXIocmVnaXN0cmF0aW9uKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgbm90aWZpUmVnaXN0ZXIoKVxyXG4gICAgICAgIC8vIHZhciBhID0gbmV3IE5vdGlmaWNhdGlvbign5LyB6bmF5L2T6IKy5oOz6KaB5pi+56S66YCa55+lJyx7XHJcbiAgICAgICAgLy8gICAgIGJvZHk6J+S8gem5heS9k+iCsuacieS9oOaDs+imgScsXHJcbiAgICAgICAgLy8gICAgIHRhZzonZGl2JyxcclxuICAgICAgICAvLyAgICAgaWNvbjonaHR0cHM6Ly90aW1nc2EuYmFpZHUuY29tL3RpbWc/aW1hZ2UmcXVhbGl0eT04MCZzaXplPWI5OTk5XzEwMDAwJnNlYz0xNTUzMDcxODUzMTQ3JmRpPTg3Zjk0YTVkYzFmMjBiMjJlYjdkZWQxZTdmNzk1YjZlJmltZ3R5cGU9MCZzcmM9aHR0cCUzQSUyRiUyRmYyLmRuLmFucXUuY29tJTJGZG93biUyRlpqTmxZUSUzRCUzRCUyRmFsbGltZyUyRjEyMDcyOCUyRjEtMTIwSFAwMzQxMi5qcGcnLFxyXG4gICAgICAgIC8vICAgICBpbWFnZTonaHR0cDovL3N0YXRpYy5xaWVjZG4uY29tL3N0YXRpYy1tb2JpbGUvMDMwODE4NTkvY29tbW9uL3Jlcy9pbmRleC9sb2dvLW5ldy5wbmcnXHJcbiAgICAgICAgLy8gfSlcclxuICAgIH1cclxufVxyXG4iLCIhIGZ1bmN0aW9uKHdpbiwgbGliKSB7XHJcbiAgICB2YXIgdGltZXIsXHJcbiAgICAgIGRvYyA9IHdpbi5kb2N1bWVudCxcclxuICAgICAgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQsXHJcbiAgXHJcbiAgICAgIHZwTWV0YSA9IGRvYy5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJ2aWV3cG9ydFwiXScpLFxyXG4gICAgICBmbGV4TWV0YSA9IGRvYy5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJmbGV4aWJsZVwiXScpLFxyXG4gIFxyXG4gICAgICBkcHIgPSAwLFxyXG4gICAgICBzY2FsZSA9IDAsXHJcbiAgXHJcbiAgICAgIGZsZXhpYmxlID0gbGliLmZsZXhpYmxlIHx8IChsaWIuZmxleGlibGUgPSB7fSk7XHJcbiAgXHJcbiAgICAvLyDorr7nva7kuoYgdmlld3BvcnQgbWV0YVxyXG4gICAgaWYgKHZwTWV0YSkge1xyXG4gIFxyXG4gICAgICB2YXIgaW5pdGlhbCA9IHZwTWV0YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpLm1hdGNoKC9pbml0aWFsXFwtc2NhbGU9KFtcXGRcXC5dKykvKTtcclxuICBcclxuICAgICAgaWYgKGluaXRpYWwpIHtcclxuICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoaW5pdGlhbFsxXSk7IC8vIOW3suiuvue9rueahCBpbml0aWFsU2NhbGVcclxuICAgICAgICBkcHIgPSBwYXJzZUludCgxIC8gc2NhbGUpOyAvLyDorr7lpIflg4/ntKDmr5QgZGV2aWNlUGl4ZWxSYXRpb1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICB9XHJcbiAgICAvLyDorr7nva7kuoYgZmxleGlibGUgTWV0YVxyXG4gICAgZWxzZSBpZiAoZmxleE1ldGEpIHtcclxuICAgICAgdmFyIGZsZXhNZXRhQ29udGVudCA9IGZsZXhNZXRhLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XHJcbiAgICAgIGlmIChmbGV4TWV0YUNvbnRlbnQpIHtcclxuICBcclxuICAgICAgICB2YXIgaW5pdGlhbCA9IGZsZXhNZXRhQ29udGVudC5tYXRjaCgvaW5pdGlhbFxcLWRwcj0oW1xcZFxcLl0rKS8pLFxyXG4gICAgICAgICAgbWF4aW11bSA9IGZsZXhNZXRhQ29udGVudC5tYXRjaCgvbWF4aW11bVxcLWRwcj0oW1xcZFxcLl0rKS8pO1xyXG4gIFxyXG4gICAgICAgIGlmIChpbml0aWFsKSB7XHJcbiAgICAgICAgICBkcHIgPSBwYXJzZUZsb2F0KGluaXRpYWxbMV0pO1xyXG4gICAgICAgICAgc2NhbGUgPSBwYXJzZUZsb2F0KCgxIC8gZHByKS50b0ZpeGVkKDIpKTtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgaWYgKG1heGltdW0pIHtcclxuICAgICAgICAgIGRwciA9IHBhcnNlRmxvYXQobWF4aW11bVsxXSk7XHJcbiAgICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoKDEgLyBkcHIpLnRvRml4ZWQoMikpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8gdmlld3BvcnQg5oiWIGZsZXhpYmxlXHJcbiAgICAvLyBtZXRhIOWdh+acquiuvue9rlxyXG4gICAgaWYgKCFkcHIgJiYgIXNjYWxlKSB7XHJcbiAgICAgIC8vIFFTVFxyXG4gICAgICAvLyDov5nph4znmoQg56ys5LiA5Y+l5pyJ5LuA5LmI55SoID9cclxuICAgICAgLy8g5ZKMIEFuZHJvaWQg5pyJ5q+b5YWz57O7ID9cclxuICAgICAgdmFyIHUgPSAod2luLm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9hbmRyb2lkL2dpKSwgd2luLm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9pcGhvbmUvZ2kpKSxcclxuICAgICAgICBfZHByID0gd2luLmRldmljZVBpeGVsUmF0aW87XHJcbiAgXHJcbiAgICAgIC8vIOaJgOS7pei/memHjOS8vOS5juaYr+WwhuaJgOaciSBBbmRyb2lkIOiuvuWkh+mDveiuvue9ruS4uiAxIOS6hlxyXG4gICAgICBkcHIgPSB1ID8gKChfZHByID49IDMgJiYgKCFkcHIgfHwgZHByID49IDMpKSA/IDMgOiAoX2RwciA+PSAyICYmICghZHByIHx8IGRwciA+PSAyKSkgPyAyIDogMSkgOiAxO1xyXG4gIFxyXG4gICAgICBzY2FsZSA9IDEgLyBkcHI7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkb2NFbGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZHByXCIsIGRwcik7XHJcbiAgXHJcbiAgICAvLyDmj5LlhaUgdmlld3BvcnQgbWV0YVxyXG4gICAgaWYgKCF2cE1ldGEpIHtcclxuICAgICAgdnBNZXRhID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIpO1xyXG4gIFxyXG4gICAgICB2cE1ldGEuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcInZpZXdwb3J0XCIpO1xyXG4gICAgICB2cE1ldGEuc2V0QXR0cmlidXRlKFwiY29udGVudFwiLFxyXG4gICAgICAgIFwiaW5pdGlhbC1zY2FsZT1cIiArIHNjYWxlICsgXCIsIG1heGltdW0tc2NhbGU9XCIgKyBzY2FsZSArIFwiLCBtaW5pbXVtLXNjYWxlPVwiICsgc2NhbGUgKyBcIiwgdXNlci1zY2FsYWJsZT1ub1wiKTtcclxuICBcclxuICAgICAgaWYgKGRvY0VsZW0uZmlyc3RFbGVtZW50Q2hpbGQpIHtcclxuICAgICAgICBkb2NFbGVtLmZpcnN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKHZwTWV0YSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgZGl2ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHZwTWV0YSk7XHJcbiAgICAgICAgZG9jLndyaXRlKGRpdi5pbm5lckhUTUwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICBmdW5jdGlvbiBzZXRGb250U2l6ZSgpIHtcclxuICAgICAgdmFyIHdpbldpZHRoID0gZG9jRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICBcclxuICAgICAgLy8gaWYgKHdpbldpZHRoIC8gZHByID4gKDc1MCAvIDIpKSB7XHJcbiAgICAgIC8vICAgKHdpbldpZHRoID0gKDc1MCAvIDIpICogZHByKTtcclxuICAgICAgLy8gfVxyXG4gIFxyXG4gICAgICAvLyDmoLnoioLngrkgZm9udFNpemUg5qC55o2u5a695bqm5Yaz5a6aXHJcbiAgICAgIHZhciBiYXNlU2l6ZSA9IHdpbldpZHRoIC8gMTA7XHJcbiAgXHJcbiAgICAgIGRvY0VsZW0uc3R5bGUuZm9udFNpemUgPSBiYXNlU2l6ZSArIFwicHhcIjtcclxuICAgICAgZmxleGlibGUucmVtID0gd2luLnJlbSA9IGJhc2VTaXplO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8g6LCD5pW056qX5Y+j5pe26YeN572uXHJcbiAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KHNldEZvbnRTaXplLCAzMDApO1xyXG4gICAgfSwgZmFsc2UpO1xyXG4gIFxyXG4gIFxyXG4gICAgLy8g6L+Z5LiA5q615piv5oiR6Ieq5bex5Yqg55qEXHJcbiAgICAvLyBvcmllbnRhdGlvbmNoYW5nZSDml7bkuZ/pnIDopoHph43nrpfkuIvlkKdcclxuICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dChzZXRGb250U2l6ZSwgMzAwKTtcclxuICAgIH0sIGZhbHNlKTtcclxuICBcclxuICBcclxuICAgIC8vIHBhZ2VzaG93XHJcbiAgICAvLyBrZXl3b3JkOiDlgJLpgIAg57yT5a2Y55u45YWzXHJcbiAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKGUucGVyc2lzdGVkKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoc2V0Rm9udFNpemUsIDMwMCk7XHJcbiAgICAgIH1cclxuICAgIH0sIGZhbHNlKTtcclxuICBcclxuICAgIC8vIOiuvue9ruWfuuWHhuWtl+S9k1xyXG4gICAgaWYgKFwiY29tcGxldGVcIiA9PT0gZG9jLnJlYWR5U3RhdGUpIHtcclxuICAgICAgZG9jLmJvZHkuc3R5bGUuZm9udFNpemUgPSAxMiAqIGRwciArIFwicHhcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBkb2MuYm9keS5zdHlsZS5mb250U2l6ZSA9IDEyICogZHByICsgXCJweFwiO1xyXG4gICAgICB9LCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBzZXRGb250U2l6ZSgpO1xyXG4gIFxyXG4gICAgZmxleGlibGUuZHByID0gd2luLmRwciA9IGRwcjtcclxuICBcclxuICAgIGZsZXhpYmxlLnJlZnJlc2hSZW0gPSBzZXRGb250U2l6ZTtcclxuICBcclxuICAgIGZsZXhpYmxlLnJlbTJweCA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgdmFyIGMgPSBwYXJzZUZsb2F0KGQpICogdGhpcy5yZW07XHJcbiAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBkICYmIGQubWF0Y2goL3JlbSQvKSkge1xyXG4gICAgICAgIGMgKz0gXCJweFwiO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjO1xyXG4gICAgfTtcclxuICBcclxuICAgIGZsZXhpYmxlLnB4MnJlbSA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgdmFyIGMgPSBwYXJzZUZsb2F0KGQpIC8gdGhpcy5yZW07XHJcbiAgXHJcbiAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBkICYmIGQubWF0Y2goL3B4JC8pKSB7XHJcbiAgICAgICAgYyArPSBcInJlbVwiO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjO1xyXG4gICAgfVxyXG4gIH0od2luZG93LCB3aW5kb3cubGliIHx8ICh3aW5kb3cubGliID0ge30pKTtcclxuICAiLCJpbXBvcnQgJy4vc3R5bGUvaW5kZXguc2Nzcyc7XHJcblxyXG5pbXBvcnQgJ0AvY29tcG9uZW50L3RvcC9zdHlsZS9pbmRleC5zY3NzJztcclxuaW1wb3J0ICdAL2NvbXBvbmVudC9ib3R0b20vc3R5bGUvaW5kZXguc2NzcydcclxuXHJcbiIsImltcG9ydCAnLi9qcy9pbmRleCdcclxuaW1wb3J0ICcuL3N0eWxlL2luZGV4LnNjc3MnXHJcbmltcG9ydCAncmVtJ1xyXG5pbXBvcnQgbG9hZHN3IGZyb20gJ0AvY29tbW9uL2pzL2xvYWRzdyc7XHJcbmxvYWRzdygnL3N3LXNzci5qcycsJy9zc3InKVxyXG5pbXBvcnQgJ0AvY29tcG9uZW50L2xheW91dC9pbmRleCciXSwic291cmNlUm9vdCI6IiJ9