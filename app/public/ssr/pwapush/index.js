!function(e){function t(t){for(var r,a,u=t[0],l=t[1],p=t[2],c=0,f=[];c<u.length;c++)a=u[c],i[a]&&f.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,p||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var l=n[u];0!==i[l]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={6:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var p=0;p<u.length;p++)t(u[p]);var s=l;o.push([49,0]),n()}({2:function(e,t){!function(e,t){var n,r=e.document,i=r.documentElement,o=r.querySelector('meta[name="viewport"]'),a=r.querySelector('meta[name="flexible"]'),u=0,l=0,p=t.flexible||(t.flexible={});if(o)(c=o.getAttribute("content").match(/initial\-scale=([\d\.]+)/))&&(l=parseFloat(c[1]),u=parseInt(1/l));else if(a){var s=a.getAttribute("content");if(s){var c=s.match(/initial\-dpr=([\d\.]+)/),f=s.match(/maximum\-dpr=([\d\.]+)/);c&&(u=parseFloat(c[1]),l=parseFloat((1/u).toFixed(2))),f&&(u=parseFloat(f[1]),l=parseFloat((1/u).toFixed(2)))}}if(!u&&!l){var d=(e.navigator.appVersion.match(/android/gi),e.navigator.appVersion.match(/iphone/gi)),m=e.devicePixelRatio;l=1/(u=d?m>=3&&(!u||u>=3)?3:m>=2&&(!u||u>=2)?2:1:1)}if(i.setAttribute("data-dpr",u),!o)if((o=r.createElement("meta")).setAttribute("name","viewport"),o.setAttribute("content","initial-scale="+l+", maximum-scale="+l+", minimum-scale="+l+", user-scalable=no"),i.firstElementChild)i.firstElementChild.appendChild(o);else{var h=r.createElement("div");h.appendChild(o),r.write(h.innerHTML)}function v(){var t=i.getBoundingClientRect().width/10;i.style.fontSize=t+"px",p.rem=e.rem=t}e.addEventListener("resize",function(){clearTimeout(n),n=setTimeout(v,300)},!1),e.addEventListener("orientationchange",function(){clearTimeout(n),n=setTimeout(v,300)},!1),e.addEventListener("pageshow",function(e){e.persisted&&(clearTimeout(n),n=setTimeout(v,300))},!1),"complete"===r.readyState?r.body.style.fontSize=12*u+"px":r.addEventListener("DOMContentLoaded",function(){r.body.style.fontSize=12*u+"px"},!1),v(),p.dpr=e.dpr=u,p.refreshRem=v,p.rem2px=function(e){var t=parseFloat(e)*this.rem;return"string"==typeof e&&e.match(/rem$/)&&(t+="px"),t},p.px2rem=function(e){var t=parseFloat(e)/this.rem;return"string"==typeof e&&e.match(/px$/)&&(t+="rem"),t}}(window,window.lib||(window.lib={}))},49:function(e,t,n){"use strict";n.r(t);var r=n(5),i=n.n(r),o=i()(".pwapush-form span"),a=i()(".pwapush-form input");function u(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].trim();if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}i()(".pwapush-form p").on("click",function(){i.a.ajax({url:"/pwapush/push",type:"POST",data:JSON.stringify({msg:a.val()}),headers:{"x-csrf-token":u("csrfToken"),"content-type":"application/json"},success:function(e){o.html(e.data)}})});n(75),n(2)},75:function(e,t){}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vY29tbW9uL2pzL2ZsZXhpYmxlL3JlbS5qcyIsIndlYnBhY2s6Ly8vLi9zc3IvcHdhcHVzaC9qcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIjYiLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIndpbiIsImxpYiIsInRpbWVyIiwiZG9jIiwiZG9jdW1lbnQiLCJkb2NFbGVtIiwiZG9jdW1lbnRFbGVtZW50IiwidnBNZXRhIiwicXVlcnlTZWxlY3RvciIsImZsZXhNZXRhIiwiZHByIiwic2NhbGUiLCJmbGV4aWJsZSIsImluaXRpYWwiLCJnZXRBdHRyaWJ1dGUiLCJtYXRjaCIsInBhcnNlRmxvYXQiLCJwYXJzZUludCIsImZsZXhNZXRhQ29udGVudCIsIm1heGltdW0iLCJ0b0ZpeGVkIiwidSIsIm5hdmlnYXRvciIsImFwcFZlcnNpb24iLCJfZHByIiwiZGV2aWNlUGl4ZWxSYXRpbyIsInNldEF0dHJpYnV0ZSIsImNyZWF0ZUVsZW1lbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImFwcGVuZENoaWxkIiwiZGl2Iiwid3JpdGUiLCJpbm5lckhUTUwiLCJzZXRGb250U2l6ZSIsImJhc2VTaXplIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwid2lkdGgiLCJzdHlsZSIsImZvbnRTaXplIiwicmVtIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJlIiwicGVyc2lzdGVkIiwicmVhZHlTdGF0ZSIsImJvZHkiLCJyZWZyZXNoUmVtIiwicmVtMnB4IiwidGhpcyIsInB4MnJlbSIsIm1zZyIsIiQiLCJ2YWwiLCJnZXRDb29raWUiLCJjbmFtZSIsImNhIiwiY29va2llIiwic3BsaXQiLCJ0cmltIiwiaW5kZXhPZiIsInN1YnN0cmluZyIsIm9uIiwiYWpheCIsInVybCIsInR5cGUiLCJKU09OIiwic3RyaW5naWZ5IiwiaGVhZGVycyIsIngtY3NyZi10b2tlbiIsImNvbnRlbnQtdHlwZSIsInN1Y2Nlc3MiLCJyZXMiLCJodG1sIl0sIm1hcHBpbmdzIjoiYUFDQSxTQUFBQSxFQUFBQyxHQVFBLElBUEEsSUFNQUMsRUFBQUMsRUFOQUMsRUFBQUgsRUFBQSxHQUNBSSxFQUFBSixFQUFBLEdBQ0FLLEVBQUFMLEVBQUEsR0FJQU0sRUFBQSxFQUFBQyxFQUFBLEdBQ1FELEVBQUFILEVBQUFLLE9BQW9CRixJQUM1QkosRUFBQUMsRUFBQUcsR0FDQUcsRUFBQVAsSUFDQUssRUFBQUcsS0FBQUQsRUFBQVAsR0FBQSxJQUVBTyxFQUFBUCxHQUFBLEVBRUEsSUFBQUQsS0FBQUcsRUFDQU8sT0FB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TSxpRUNsSnBDa0QsRUFBTUMsSUFBRSxzQkFDUkMsRUFBTUQsSUFBRSx1QkFFWixTQUFTRSxFQUFVQyxHQUdmLElBRkEsSUFBSWhGLEVBQU9nRixFQUFRLElBQ2ZDLEVBQUtwRCxTQUFTcUQsT0FBT0MsTUFBTSxLQUN2QmxILEVBQUUsRUFBR0EsRUFBRWdILEVBQUc5RyxPQUFRRixJQUMxQixDQUNFLElBQUk2QixFQUFJbUYsRUFBR2hILEdBQUdtSCxPQUNkLEdBQXFCLEdBQWpCdEYsRUFBRXVGLFFBQVFyRixHQUFVLE9BQU9GLEVBQUV3RixVQUFVdEYsRUFBSzdCLE9BQU8yQixFQUFFM0IsUUFFM0QsTUFBTyxHQVREMEcsSUFBRSxtQkFXUlUsR0FBRyxRQUFRLFdBQ1hWLElBQUVXLEtBQUssQ0FDSEMsSUFBSSxnQkFDSkMsS0FBTSxPQUNOL0gsS0FBTWdJLEtBQUtDLFVBQVUsQ0FDakJoQixJQUFJRSxFQUFJQSxRQUVaZSxRQUFTLENBQ0xDLGVBQWdCZixFQUFVLGFBQzFCZ0IsZUFBZ0Isb0JBRXBCQyxRQUFRLFNBQVNDLEdBQ2JyQixFQUFJc0IsS0FBS0QsRUFBSXRJIiwiZmlsZSI6InNzci9wd2FwdXNoL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gaW5zdGFsbCBhIEpTT05QIGNhbGxiYWNrIGZvciBjaHVuayBsb2FkaW5nXG4gXHRmdW5jdGlvbiB3ZWJwYWNrSnNvbnBDYWxsYmFjayhkYXRhKSB7XG4gXHRcdHZhciBjaHVua0lkcyA9IGRhdGFbMF07XG4gXHRcdHZhciBtb3JlTW9kdWxlcyA9IGRhdGFbMV07XG4gXHRcdHZhciBleGVjdXRlTW9kdWxlcyA9IGRhdGFbMl07XG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0NjogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbNDksMF0pO1xuIFx0Ly8gcnVuIGRlZmVycmVkIG1vZHVsZXMgd2hlbiByZWFkeVxuIFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4iLCIhIGZ1bmN0aW9uKHdpbiwgbGliKSB7XHJcbiAgICB2YXIgdGltZXIsXHJcbiAgICAgIGRvYyA9IHdpbi5kb2N1bWVudCxcclxuICAgICAgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQsXHJcbiAgXHJcbiAgICAgIHZwTWV0YSA9IGRvYy5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJ2aWV3cG9ydFwiXScpLFxyXG4gICAgICBmbGV4TWV0YSA9IGRvYy5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9XCJmbGV4aWJsZVwiXScpLFxyXG4gIFxyXG4gICAgICBkcHIgPSAwLFxyXG4gICAgICBzY2FsZSA9IDAsXHJcbiAgXHJcbiAgICAgIGZsZXhpYmxlID0gbGliLmZsZXhpYmxlIHx8IChsaWIuZmxleGlibGUgPSB7fSk7XHJcbiAgXHJcbiAgICAvLyDorr7nva7kuoYgdmlld3BvcnQgbWV0YVxyXG4gICAgaWYgKHZwTWV0YSkge1xyXG4gIFxyXG4gICAgICB2YXIgaW5pdGlhbCA9IHZwTWV0YS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpLm1hdGNoKC9pbml0aWFsXFwtc2NhbGU9KFtcXGRcXC5dKykvKTtcclxuICBcclxuICAgICAgaWYgKGluaXRpYWwpIHtcclxuICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoaW5pdGlhbFsxXSk7IC8vIOW3suiuvue9rueahCBpbml0aWFsU2NhbGVcclxuICAgICAgICBkcHIgPSBwYXJzZUludCgxIC8gc2NhbGUpOyAvLyDorr7lpIflg4/ntKDmr5QgZGV2aWNlUGl4ZWxSYXRpb1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICB9XHJcbiAgICAvLyDorr7nva7kuoYgZmxleGlibGUgTWV0YVxyXG4gICAgZWxzZSBpZiAoZmxleE1ldGEpIHtcclxuICAgICAgdmFyIGZsZXhNZXRhQ29udGVudCA9IGZsZXhNZXRhLmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XHJcbiAgICAgIGlmIChmbGV4TWV0YUNvbnRlbnQpIHtcclxuICBcclxuICAgICAgICB2YXIgaW5pdGlhbCA9IGZsZXhNZXRhQ29udGVudC5tYXRjaCgvaW5pdGlhbFxcLWRwcj0oW1xcZFxcLl0rKS8pLFxyXG4gICAgICAgICAgbWF4aW11bSA9IGZsZXhNZXRhQ29udGVudC5tYXRjaCgvbWF4aW11bVxcLWRwcj0oW1xcZFxcLl0rKS8pO1xyXG4gIFxyXG4gICAgICAgIGlmIChpbml0aWFsKSB7XHJcbiAgICAgICAgICBkcHIgPSBwYXJzZUZsb2F0KGluaXRpYWxbMV0pO1xyXG4gICAgICAgICAgc2NhbGUgPSBwYXJzZUZsb2F0KCgxIC8gZHByKS50b0ZpeGVkKDIpKTtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgaWYgKG1heGltdW0pIHtcclxuICAgICAgICAgIGRwciA9IHBhcnNlRmxvYXQobWF4aW11bVsxXSk7XHJcbiAgICAgICAgICBzY2FsZSA9IHBhcnNlRmxvYXQoKDEgLyBkcHIpLnRvRml4ZWQoMikpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8gdmlld3BvcnQg5oiWIGZsZXhpYmxlXHJcbiAgICAvLyBtZXRhIOWdh+acquiuvue9rlxyXG4gICAgaWYgKCFkcHIgJiYgIXNjYWxlKSB7XHJcbiAgICAgIC8vIFFTVFxyXG4gICAgICAvLyDov5nph4znmoQg56ys5LiA5Y+l5pyJ5LuA5LmI55SoID9cclxuICAgICAgLy8g5ZKMIEFuZHJvaWQg5pyJ5q+b5YWz57O7ID9cclxuICAgICAgdmFyIHUgPSAod2luLm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9hbmRyb2lkL2dpKSwgd2luLm5hdmlnYXRvci5hcHBWZXJzaW9uLm1hdGNoKC9pcGhvbmUvZ2kpKSxcclxuICAgICAgICBfZHByID0gd2luLmRldmljZVBpeGVsUmF0aW87XHJcbiAgXHJcbiAgICAgIC8vIOaJgOS7pei/memHjOS8vOS5juaYr+WwhuaJgOaciSBBbmRyb2lkIOiuvuWkh+mDveiuvue9ruS4uiAxIOS6hlxyXG4gICAgICBkcHIgPSB1ID8gKChfZHByID49IDMgJiYgKCFkcHIgfHwgZHByID49IDMpKSA/IDMgOiAoX2RwciA+PSAyICYmICghZHByIHx8IGRwciA+PSAyKSkgPyAyIDogMSkgOiAxO1xyXG4gIFxyXG4gICAgICBzY2FsZSA9IDEgLyBkcHI7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBkb2NFbGVtLnNldEF0dHJpYnV0ZShcImRhdGEtZHByXCIsIGRwcik7XHJcbiAgXHJcbiAgICAvLyDmj5LlhaUgdmlld3BvcnQgbWV0YVxyXG4gICAgaWYgKCF2cE1ldGEpIHtcclxuICAgICAgdnBNZXRhID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJtZXRhXCIpO1xyXG4gIFxyXG4gICAgICB2cE1ldGEuc2V0QXR0cmlidXRlKFwibmFtZVwiLCBcInZpZXdwb3J0XCIpO1xyXG4gICAgICB2cE1ldGEuc2V0QXR0cmlidXRlKFwiY29udGVudFwiLFxyXG4gICAgICAgIFwiaW5pdGlhbC1zY2FsZT1cIiArIHNjYWxlICsgXCIsIG1heGltdW0tc2NhbGU9XCIgKyBzY2FsZSArIFwiLCBtaW5pbXVtLXNjYWxlPVwiICsgc2NhbGUgKyBcIiwgdXNlci1zY2FsYWJsZT1ub1wiKTtcclxuICBcclxuICAgICAgaWYgKGRvY0VsZW0uZmlyc3RFbGVtZW50Q2hpbGQpIHtcclxuICAgICAgICBkb2NFbGVtLmZpcnN0RWxlbWVudENoaWxkLmFwcGVuZENoaWxkKHZwTWV0YSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgZGl2ID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKHZwTWV0YSk7XHJcbiAgICAgICAgZG9jLndyaXRlKGRpdi5pbm5lckhUTUwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgXHJcbiAgICBmdW5jdGlvbiBzZXRGb250U2l6ZSgpIHtcclxuICAgICAgdmFyIHdpbldpZHRoID0gZG9jRWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICBcclxuICAgICAgLy8gaWYgKHdpbldpZHRoIC8gZHByID4gKDc1MCAvIDIpKSB7XHJcbiAgICAgIC8vICAgKHdpbldpZHRoID0gKDc1MCAvIDIpICogZHByKTtcclxuICAgICAgLy8gfVxyXG4gIFxyXG4gICAgICAvLyDmoLnoioLngrkgZm9udFNpemUg5qC55o2u5a695bqm5Yaz5a6aXHJcbiAgICAgIHZhciBiYXNlU2l6ZSA9IHdpbldpZHRoIC8gMTA7XHJcbiAgXHJcbiAgICAgIGRvY0VsZW0uc3R5bGUuZm9udFNpemUgPSBiYXNlU2l6ZSArIFwicHhcIjtcclxuICAgICAgZmxleGlibGUucmVtID0gd2luLnJlbSA9IGJhc2VTaXplO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8g6LCD5pW056qX5Y+j5pe26YeN572uXHJcbiAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KHNldEZvbnRTaXplLCAzMDApO1xyXG4gICAgfSwgZmFsc2UpO1xyXG4gIFxyXG4gIFxyXG4gICAgLy8g6L+Z5LiA5q615piv5oiR6Ieq5bex5Yqg55qEXHJcbiAgICAvLyBvcmllbnRhdGlvbmNoYW5nZSDml7bkuZ/pnIDopoHph43nrpfkuIvlkKdcclxuICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKFwib3JpZW50YXRpb25jaGFuZ2VcIiwgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XHJcbiAgICAgIHRpbWVyID0gc2V0VGltZW91dChzZXRGb250U2l6ZSwgMzAwKTtcclxuICAgIH0sIGZhbHNlKTtcclxuICBcclxuICBcclxuICAgIC8vIHBhZ2VzaG93XHJcbiAgICAvLyBrZXl3b3JkOiDlgJLpgIAg57yT5a2Y55u45YWzXHJcbiAgICB3aW4uYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VzaG93XCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgaWYgKGUucGVyc2lzdGVkKSB7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcclxuICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoc2V0Rm9udFNpemUsIDMwMCk7XHJcbiAgICAgIH1cclxuICAgIH0sIGZhbHNlKTtcclxuICBcclxuICAgIC8vIOiuvue9ruWfuuWHhuWtl+S9k1xyXG4gICAgaWYgKFwiY29tcGxldGVcIiA9PT0gZG9jLnJlYWR5U3RhdGUpIHtcclxuICAgICAgZG9jLmJvZHkuc3R5bGUuZm9udFNpemUgPSAxMiAqIGRwciArIFwicHhcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRvYy5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBkb2MuYm9keS5zdHlsZS5mb250U2l6ZSA9IDEyICogZHByICsgXCJweFwiO1xyXG4gICAgICB9LCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICBzZXRGb250U2l6ZSgpO1xyXG4gIFxyXG4gICAgZmxleGlibGUuZHByID0gd2luLmRwciA9IGRwcjtcclxuICBcclxuICAgIGZsZXhpYmxlLnJlZnJlc2hSZW0gPSBzZXRGb250U2l6ZTtcclxuICBcclxuICAgIGZsZXhpYmxlLnJlbTJweCA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgdmFyIGMgPSBwYXJzZUZsb2F0KGQpICogdGhpcy5yZW07XHJcbiAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBkICYmIGQubWF0Y2goL3JlbSQvKSkge1xyXG4gICAgICAgIGMgKz0gXCJweFwiO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjO1xyXG4gICAgfTtcclxuICBcclxuICAgIGZsZXhpYmxlLnB4MnJlbSA9IGZ1bmN0aW9uKGQpIHtcclxuICAgICAgdmFyIGMgPSBwYXJzZUZsb2F0KGQpIC8gdGhpcy5yZW07XHJcbiAgXHJcbiAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBkICYmIGQubWF0Y2goL3B4JC8pKSB7XHJcbiAgICAgICAgYyArPSBcInJlbVwiO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjO1xyXG4gICAgfVxyXG4gIH0od2luZG93LCB3aW5kb3cubGliIHx8ICh3aW5kb3cubGliID0ge30pKTtcclxuICAiLCJpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG52YXIgbXNnID0gJCgnLnB3YXB1c2gtZm9ybSBzcGFuJyk7XHJcbnZhciB2YWwgPSAkKCcucHdhcHVzaC1mb3JtIGlucHV0JylcclxudmFyIGJ0biA9ICQoJy5wd2FwdXNoLWZvcm0gcCcpO1xyXG5mdW5jdGlvbiBnZXRDb29raWUoY25hbWUpe1xyXG4gICAgdmFyIG5hbWUgPSBjbmFtZSArIFwiPVwiO1xyXG4gICAgdmFyIGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XHJcbiAgICBmb3IodmFyIGk9MDsgaTxjYS5sZW5ndGg7IGkrKykgXHJcbiAgICB7XHJcbiAgICAgIHZhciBjID0gY2FbaV0udHJpbSgpO1xyXG4gICAgICBpZiAoYy5pbmRleE9mKG5hbWUpPT0wKSByZXR1cm4gYy5zdWJzdHJpbmcobmFtZS5sZW5ndGgsYy5sZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFwiXCI7XHJcbiAgfVxyXG5idG4ub24oJ2NsaWNrJyxmdW5jdGlvbigpe1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6Jy9wd2FwdXNoL3B1c2gnLFxyXG4gICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIG1zZzp2YWwudmFsKClcclxuICAgICAgICB9KSxcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICd4LWNzcmYtdG9rZW4nOiBnZXRDb29raWUoJ2NzcmZUb2tlbicpLFxyXG4gICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdWNjZXNzOmZ1bmN0aW9uKHJlcyl7XHJcbiAgICAgICAgICAgIG1zZy5odG1sKHJlcy5kYXRhKVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn0pIl0sInNvdXJjZVJvb3QiOiIifQ==